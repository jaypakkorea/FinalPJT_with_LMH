import {
  getIcon
} from "./chunk-7T2N3LCA.mjs";
import "./chunk-2CNQOCG6.mjs";

// src/resolver.ts
import Data from "@iconify/json";
function camelToKebab(key) {
  const result = key.replace(/:/g, "-").replace(/([A-Z])/g, " $1").trim();
  return result.split(/\s+/g).join("-").toLowerCase();
}
function ViteComponentsResolver(options = {}) {
  const {
    componentPrefix = "i",
    enabledCollections = Object.keys(Data.collections())
  } = options;
  const prefix = componentPrefix ? `${camelToKebab(componentPrefix)}-` : "";
  enabledCollections.sort((a, b) => b.length - a.length);
  return (name) => {
    const kebab = camelToKebab(name);
    if (!kebab.startsWith(prefix))
      return;
    const slice = kebab.slice(prefix.length);
    const collection = enabledCollections.find((i) => slice.startsWith(`${i}-`)) || enabledCollections.find((i) => slice.startsWith(i));
    if (!collection)
      return;
    let icon = slice.slice(collection.length);
    if (icon[0] === "-")
      icon = icon.slice(1);
    if (!icon)
      return;
    if (!getIcon(collection, icon))
      return;
    return `~icons/${collection}/${icon}`;
  };
}
export {
  ViteComponentsResolver as default
};
